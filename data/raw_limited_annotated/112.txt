The pipeline giant Energy Transfer Equity said on Wednesday that it had called off a contentious deal with the Williams Companies after a <location>Delaware</location> judge ruled last week that the transaction could be terminated.Energy Transfer, based in <location>Dallas</location>, had sought for months to kill the deal as a sharp decline in the energy markets last year made the cash-and-stock transaction untenable.Williams and Energy Transfer had accused each other of breaching the terms of the agreement, and the deal’s value declined as a fall in oil prices hurt the financial prospects of their customers and weighed on the stock prices of both companies.The deal was valued around $38 billion, including debt, when it was reached in September.Energy Transfer cited the inability of its lawyers to deliver the “required tax opinion” as a reason for terminating the agreement.Last week, Sam Glasscock III, the vice chancellor of the Court of Chancery in <location>Delaware</location>, sided with Energy Transfer, which had argued in part that the transaction may not ultimately be deemed tax-free — a condition for the deal to close.